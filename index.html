<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cuestionario Futurista Hardware y Redes</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');
  body {
    font-family: 'Orbitron', sans-serif;
    margin: 0; padding: 0;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    color: #00ffea;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }
  .container {
    background: rgba(10, 10, 30, 0.85);
    max-width: 650px;
    width: 90%;
    border-radius: 15px;
    padding: 30px 40px;
    box-shadow: 0 0 20px #00ffea44;
    border: 2px solid #00ffea;
  }
  h1, h2 {
    text-align: center;
    margin-bottom: 20px;
    letter-spacing: 2px;
  }
  label {
    display: block;
    margin: 12px 0 5px;
    font-weight: 700;
    font-size: 1.1rem;
  }
  input[type="text"] {
    display: block;
    width: 100%;
    padding: 12px 15px;
    font-size: 1rem;
    border-radius: 10px;
    border: none;
    outline: none;
    background: #021019;
    color: #00ffea;
    box-shadow: inset 0 0 10px #00ffea88;
    transition: background 0.3s ease;
  }
  input[type="text"]:focus {
    background: #01141f;
  }
  button {
    margin-top: 25px;
    width: 100%;
    padding: 15px;
    font-size: 1.2rem;
    font-weight: 700;
    color: #021019;
    background: #00ffc8;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    box-shadow: 0 0 15px #00ffc8cc;
    transition: all 0.3s ease;
  }
  button:disabled {
    background: #00705f60;
    cursor: not-allowed;
    box-shadow: none;
  }
  button:hover:not(:disabled) {
    background: #00ffea;
    color: #011f1a;
    box-shadow: 0 0 25px #00ffea, 0 0 40px #00ffea;
  }
  #question-container {
    margin-top: 30px;
  }
  .hide {
    display: none !important;
  }
  .question {
    font-size: 1.4rem;
    margin-bottom: 20px;
    text-shadow: 0 0 12px #00ffeacc;
  }
  .answers {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
  .answer-btn {
    background: #011f29;
    border-radius: 12px;
    padding: 15px 20px;
    font-size: 1.1rem;
    color: #00ffea;
    border: 2px solid transparent;
    cursor: pointer;
    transition: all 0.25s ease;
    box-shadow: inset 0 0 7px #00b99d70;
    text-align: left;
  }
  .answer-btn:hover {
    background: #00323f;
  }
  .answer-btn.selected {
    border-color: #00ffea;
    box-shadow: 0 0 25px #00ffea;
    background: #002628;
  }
  .answer-btn.correct {
    border-color: #00ff44;
    background: #003e01;
    box-shadow: 0 0 30px #00ff44;
    color: #aaffaa;
  }
  .answer-btn.incorrect {
    border-color: #ff244f;
    background: #400000;
    box-shadow: 0 0 30px #ff244f;
    color: #ffaaaa;
  }
  #next-btn {
    margin-top: 25px;
  }
  #result-container {
    margin-top: 30px;
    background: #011b24;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 0 20px #00ffea88;
  }
  #score {
    font-size: 1.4rem;
    font-weight: 700;
    margin-bottom: 15px;
    text-align: center;
  }
  #details ul {
    list-style: none;
    padding-left: 0;
  }
  #details li {
    margin: 8px 0;
    font-size: 1rem;
  }
  .correct-detail {
    color: #00ff44;
    font-weight: bold;
  }
  .incorrect-detail {
    color: #ff244f;
    font-weight: bold;
  }
  @media (max-width: 480px) {
    body {
      padding: 15px;
    }
    .container {
      padding: 25px 20px;
      width: 100%;
    }
    .question {
      font-size: 1.2rem;
    }
    .answer-btn {
      font-size: 1rem;
      padding: 12px 15px;
    }
    button {
      font-size: 1rem;
      padding: 12px;
    }
  }
</style>
</head>
<body>
  <div class="container" role="main" aria-labelledby="title">
    <h1 id="title">Cuestionario Futurista: Hardware y Redes</h1>
    <label for="student-name">Nombre del estudiante:</label>
    <input type="text" id="student-name" aria-required="true" placeholder="Escribe tu nombre" />
    <button id="start-btn" disabled aria-disabled="true" aria-controls="question-container">Iniciar cuestionario</button>

    <section id="question-container" class="hide" aria-live="polite" aria-atomic="true">
      <div id="question" class="question"></div>
      <div id="answers" class="answers"></div>
      <button id="next-btn" disabled aria-disabled="true">Siguiente</button>
    </section>

    <section id="result-container" class="hide" aria-live="polite" aria-atomic="true">
      <h2>Resultados</h2>
      <div id="score"></div>
      <div id="details"></div>
    </section>
  </div>

<script>
  const startBtn = document.getElementById('start-btn');
  const nextBtn = document.getElementById('next-btn');
  const questionContainer = document.getElementById('question-container');
  const questionElem = document.getElementById('question');
  const answersElem = document.getElementById('answers');
  const studentNameInput = document.getElementById('student-name');
  const resultContainer = document.getElementById('result-container');
  const scoreElem = document.getElementById('score');
  const detailsElem = document.getElementById('details');

  const questionBank = [
    {
      question: "¿Qué componente funciona como el 'cerebro' del computador?",
      answers: [
        { text: "Unidad Central de Procesamiento (CPU)", correct: true },
        { text: "Tarjeta gráfica", correct: false },
        { text: "Memoria RAM", correct: false },
        { text: "Disco duro", correct: false }
      ]
    },
    {
      question: "¿Cuál es la función principal de un switch en redes?",
      answers: [
        { text: "Conectar dispositivos dentro de una red local", correct: true },
        { text: "Asignar direcciones IP", correct: false },
        { text: "Enrutamiento entre redes", correct: false },
        { text: "Almacenar datos", correct: false }
      ]
    },
    {
      question: "¿Qué es una dirección IP?",
      answers: [
        { text: "Un identificador único para un dispositivo en la red", correct: true },
        { text: "Un protocolo de seguridad", correct: false },
        { text: "Un tipo de cableado", correct: false },
        { text: "Un software de red", correct: false }
      ]
    },
    {
      question: "¿Qué tipo de cable es común para redes LAN?",
      answers: [
        { text: "Cable UTP (par trenzado)", correct: true },
        { text: "Cable coaxial", correct: false },
        { text: "Cable HDMI", correct: false },
        { text: "Cable USB", correct: false }
      ]
    },
    {
      question: "¿Qué significa RAM en computación?",
      answers: [
        { text: "Memoria de acceso aleatorio", correct: true },
        { text: "Memoria de alimentación rápida", correct: false },
        { text: "Memoria de sólo lectura", correct: false },
        { text: "Memoria secundaria", correct: false }
      ]
    },
    {
      question: "¿Para qué sirve un firewall en una red?",
      answers: [
        { text: "Protege la red controlando el tráfico de datos", correct: true },
        { text: "Almacena archivos", correct: false },
        { text: "Acelera la conexión", correct: false },
        { text: "Desconecta dispositivos", correct: false }
      ]
    },
    {
      question: "¿Qué puerto se usa comúnmente para tráfico HTTP?",
      answers: [
        { text: "Puerto 80", correct: true },
        { text: "Puerto 21", correct: false },
        { text: "Puerto 443", correct: false },
        { text: "Puerto 22", correct: false }
      ]
    },
    {
      question: "¿Qué tecnología permite redes inalámbricas en el hogar?",
      answers: [
        { text: "Wi-Fi", correct: true },
        { text: "Bluetooth", correct: false },
        { text: "Ethernet", correct: false },
        { text: "USB", correct: false }
      ]
    },
    {
      question: "¿Qué hace un router en una red?",
      answers: [
        { text: "Dirige el tráfico entre redes diferentes", correct: true },
        { text: "Guarda datos importantes", correct: false },
        { text: "Provee electricidad", correct: false },
        { text: "Transmite video", correct: false }
      ]
    },
    {
      question: "¿Qué es un sistema operativo?",
      answers: [
        { text: "Software que administra recursos del hardware", correct: true },
        { text: "Tipo de hardware", correct: false },
        { text: "Red de computadoras", correct: false },
        { text: "Aplicación para edición de imágenes", correct: false }
      ]
    }
  ];

  let shuffledQuestions = [];
  let currentQuestionIndex = 0;
  let score = 0;
  let selectedAnswers = [];

  studentNameInput.addEventListener('input', () => {
    const active = studentNameInput.value.trim().length > 0;
    startBtn.disabled = !active;
    startBtn.setAttribute('aria-disabled', !active);
  });

  startBtn.addEventListener('click', () => {
    score = 0;
    selectedAnswers = [];
    currentQuestionIndex = 0;
    resultContainer.classList.add('hide');
    questionContainer.classList.remove('hide');
    startBtn.classList.add('hide');
    studentNameInput.disabled = true;

    shuffledQuestions = [...questionBank].sort(() => Math.random() - 0.5).slice(0, 10);
    showQuestion();
  });

  nextBtn.addEventListener('click', () => {
    if(currentQuestionIndex < shuffledQuestions.length - 1) {
      currentQuestionIndex++;
      showQuestion();
    } else {
      showResults();
    }
  });

  function showQuestion() {
    resetState();
    const question = shuffledQuestions[currentQuestionIndex];
    questionElem.textContent = question.question;

    question.answers.forEach((answer) => {
      const button = document.createElement('button');
      button.classList.add('answer-btn');
      button.textContent = answer.text;
      button.dataset.correct = answer.correct;
      button.setAttribute('role', 'radio');
      button.setAttribute('aria-checked', 'false');
      button.addEventListener('click', selectAnswer);
      answersElem.appendChild(button);
    });
  }

  function resetState() {
    nextBtn.disabled = true;
    nextBtn.setAttribute('aria-disabled', 'true');
    while(answersElem.firstChild) {
      answersElem.removeChild(answersElem.firstChild);
    }
  }

  function selectAnswer(e) {
    const selectedBtn = e.target;
    const correct = selectedBtn.dataset.correct === "true";
    selectedAnswers[currentQuestionIndex] = correct;

    // Limpiar estilos y estado de respuestas
    Array.from(answersElem.children).forEach(btn => {
      btn.classList.remove('selected', 'correct', 'incorrect');
      btn.disabled = true;
      btn.setAttribute('aria-checked', 'false');
      if(btn.dataset.correct === "true") {
        btn.classList.add('correct');
      }
    });
    selectedBtn.classList.add('selected');
    selectedBtn.setAttribute('aria-checked', 'true');

    if(correct) score++;

    nextBtn.disabled = false;
    nextBtn.setAttribute('aria-disabled', 'false');
  }

  function showResults() {
    questionContainer.classList.add('hide');
    resultContainer.classList.remove('hide');

    scoreElem.innerHTML = `<p>${studentNameInput.value}, tu puntaje es ${score} de ${shuffledQuestions.length}.</p>`;

    let detailsHTML = "<ul>";
    shuffledQuestions.forEach((q, i) => {
      const statusClass = selectedAnswers[i] ? "correct-detail" : "incorrect-detail";
      const statusText = selectedAnswers[i] ? "Correcto" : "Incorrecto";
      detailsHTML += `<li><strong>Pregunta:</strong> ${q.question} — <span class="${statusClass}">${statusText}</span></li>`;
    });
    detailsHTML += "</ul>";
    detailsElem.innerHTML = detailsHTML;

    startBtn.textContent = "Reiniciar cuestionario";
    startBtn.disabled = false;
    startBtn.classList.remove('hide');
    startBtn.setAttribute('aria-disabled', 'false');

    studentNameInput.disabled = false;
    studentNameInput.value = "";

    nextBtn.disabled = true;
    nextBtn.setAttribute('aria-disabled', 'true');
  }
</script>
</body>
</html>
